# HAR (ヒューリスティック・アダプティブ・レゾナンス) Anki アドオン

**「EASY地獄」にうんざりしていませんか？ FSRSの「ブラックボックス」に不満を感じていませんか？ このアドオンが、新しい学習体験を提案します。**

HARは、純粋な数学的最適化よりも**ユーザーの快適さ、透明性、そして直感的なコントロール**を最優先する、次世代のAnki用スケジューリングアルゴリズムです。複雑な記憶モデルに依存するのではなく、あなたの「体感難易度」に寄り添うことで、学習を「楽々」に感じられるよう設計されています。

このプロジェクトは、従来の間隔反復システム（SRS）の設計に挑戦する、画期的な提案「[ヒューリスティック・アダプティブ・レゾナンス（HAR）アルゴリズム](https://example.com/har-paper-ja)」を実装するものです。

## HARの設計思想

従来のSRSであるSM-2やFSRSには、以下のような課題（ペインポイント）がありました。
- **SM-2の「EASY地獄」**: 一度「難しい」と判定されたカードは、たとえ習熟した後でも、永遠に短い復習間隔に固定されてしまいます。
- **FSRSの「ブラックボックス」**: 複雑で多数のパラメータを持ち、「最適化」プロセスを必要とします。その結果、予測不能で直感に反するスケジュールが生成され、ユーザーに不安を与えます。

HARは、これらの問題を三つの核となる原則によって解決します。

1.  **透明な「インターバル・ラダー」**: もう推測は不要です。カードの進捗は、単純で可視化された「レベル」（L1からL10など）で管理され、各レベルには明確な基本間隔（例: L1=1日, L2=3日, L3=7日）が設定されています。これにより、Leitnerシステムのような「進捗の触知性」を取り戻します。

2.  **分離された二段階フィードバック**: HARは、他のSRSが抱える根本的な設計上の欠陥を修正します。「正解したか？」という客観的な事実と、「どう感じたか？」という主観的な感覚を一つのボタンセットに混同させるのではなく、明確に分離します。
    *   **ステップ1 (パフォーマンス)**: まず`🔴 不正解`か`🟢 正解`か、客観的な結果だけを回答します。
    *   **ステップ2 (体感)**: 正解した場合にのみ、オプションでそのカードが`難しい`、`普通`、`簡単`に感じたかをフィードバックします。これにより、クリーンで曖昧さのないデータが得られます。

3.  **「レゾナンス・ファクター (RF)」**: これが、FSRSのような複雑さなしに「EASY地獄」を回避するHARの核です。あなたの主観的フィードバック（難しい/簡単）は、カード固有の単純な乗数（RF）を調整します。カードが時間とともにより簡単に感じられるようになればRFは上昇し、間隔を穏やかに伸ばします。この適応的なシステムが、あなたの個人的な学習体験と「共鳴（レゾナンス）」します。

## 主な機能

- **ユーザー中心のスケジューリング**: HARアルゴリズムの完全な実装。
- **直感的な二段階UI**: Ankiの標準の回答ボタンを、新しく分かりやすいフィードバックシステムに置き換えます。
- **「ワンクリック」目標プリセット**: 複雑なパラメータ調整は不要です。ドロップダウンからあなたの学習目標（例：「長期的学習」「試験のための詰め込み」）を選択するだけで、アルゴリズムが最適な間隔ラダーを自動で設定します。
- **簡単なインストール**: コマンドラインスクリプト (`install.py`) を実行するだけで、Ankiの適切なフォルダにアドオンを自動でインストールします。
- **詳細なログ出力**: アドオンの動作はすべて`cars_addon.log`に記録されるため、問題発生時のトラブルシューティングが容易です。

## インストール方法

1.  お使いのコンピュータにPythonがインストールされていることを確認してください。
2.  このリポジトリをクローン（またはZIPファイルとしてダウンロード）します。
3.  ターミナル（Windowsではコマンドプロンプト）を開き、以下のコマンドを実行します。
    ```bash
    python install.py
    ```
4.  Ankiを再起動してください。
5.  （オプション）Ankiのメニューから`ツール > アドオン > CARS Addon > 設定`と進むと、あなたの学習目標プリセットを変更できます。
